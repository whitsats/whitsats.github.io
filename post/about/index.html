<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

<title>å…³äº |
        W&#39;Blog</title>
<meta name="algolia-site-verification" content="415B756FDB4308CC" />
<meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
/>
<link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
    integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
    crossorigin="anonymous"
/>
<link
    rel="shortcut icon"
    href="https://whitsats.github.io//favicon.ico?v=1750519300033"
/>
<link rel="stylesheet" href="https://whitsats.github.io//styles/main.css" />



<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


<script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-L6R12L2QHC"
></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-L6R12L2QHC");
</script>


        <meta name="description" content="ä½ å¥½å‘€ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ï¼Œå¾ˆé«˜å…´åœ¨è¿™é‡Œé‡è§ä½ ï¼ğŸ¤
ğŸ å°ç«™é€Ÿè§ˆ
è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼ŒåŸºäº Gridea äºŒæ¬¡å¼€å‘ï¼Œæ‰˜ç®¡åœ¨ GitHub Pagesã€‚ä¸»è¦ç”¨æ¥éšæ‰‹è®°å½•å·¥ä½œã€ç”Ÿæ´»å’Œå­¦ä¹ ä¸­çš„æ‰€æ€æ‰€æƒ³ã€‚
ğŸ¦¹â€â™‚ï¸ åšä¸»æ¡£æ¡ˆ
æˆ‘æ˜¯ whits..." />
        <meta
            name="keywords"
            content=""
        />
    </head>
    <body>
        <div id="app" class="main">
            <div class="sidebar" :class="{ 'full-height': menuVisible }">
    <div class="top-container" data-aos="fade-right">
        <div class="top-header-container">
            <a class="site-title-container" href="https://whitsats.github.io/">
                <img
                    src="https://whitsats.github.io//images/avatar.png?v=1750519300033"
                    class="site-logo"
                />
                <h1 class="site-title">W&#39;Blog</h1>
            </a>
            <div class="menu-btn" @click="menuVisible = !menuVisible">
                <div class="line"></div>
            </div>
        </div>
        <div>
             
            <a href="/" class="site-nav"> é¦–é¡µ </a>
              
            <a href="/archives" class="site-nav"> å½’æ¡£ </a>
              
            <a href="/tags" class="site-nav"> æ ‡ç­¾ </a>
              
            <a href="/post/about" class="site-nav"> å…³äº </a>
             
        </div>
    </div>
    <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
        <div class="social-container">
             
            <a
                class="social-link"
                href="https://github.com/whitsats"
                target="_blank"
            >
                <i class="fab fa-github"></i>
            </a>
                     
        </div>
        <div class="site-description">å…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆ</div>
        <div class="site-footer">
            Powered by <a href="https://github.com/whitsats" target="_blank">whitsatsâ¤ï¸</a> |
            <a
                class="rss"
                href="https://whitsats.github.io//atom.xml"
                target="_blank"
                >RSS</a
            >
        </div>
    </div>
</div>


            <div class="main-container">
                <div class="content-container" data-aos="fade-up">
                    <div class="post-detail">
                        <h2 class="post-title">å…³äº</h2>
                        <div class="post-date">2025-04-29</div>
                        
                        <div class="post-content" v-pre>
                            <p><strong>ä½ å¥½å‘€ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ï¼Œå¾ˆé«˜å…´åœ¨è¿™é‡Œé‡è§ä½ ï¼ğŸ¤</strong></p>
<h2 id="å°ç«™é€Ÿè§ˆ">ğŸ å°ç«™é€Ÿè§ˆ</h2>
<p>è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼ŒåŸºäº Gridea äºŒæ¬¡å¼€å‘ï¼Œæ‰˜ç®¡åœ¨ GitHub Pagesã€‚ä¸»è¦ç”¨æ¥<strong>éšæ‰‹è®°å½•</strong>å·¥ä½œã€ç”Ÿæ´»å’Œå­¦ä¹ ä¸­çš„<strong>æ‰€æ€æ‰€æƒ³</strong>ã€‚</p>
<h2 id="ï¸-åšä¸»æ¡£æ¡ˆ">ğŸ¦¹â€â™‚ï¸ åšä¸»æ¡£æ¡ˆ</h2>
<p>æˆ‘æ˜¯ <strong>whitsats</strong>ï¼š</p>
<ul>
<li><strong>æ¸¸æˆè¿·</strong> (çƒ­è¡·ç ”ç©¶å„ç§ä¸»æœºå’ŒæŒæœºæ¸¸æˆï¼Œå·ç§°â€˜å…¨æœºåˆ¶éœ¸â€™ ğŸ˜)</li>
<li><strong>ç¼–ç¨‹çˆ±å¥½è€…</strong> (å–œæ¬¢æ£é¼“ä»£ç )</li>
<li><strong>ç¼–ç¨‹è®²å¸ˆ</strong> (ä¹äºåˆ†äº«æŠ€æœ¯)</li>
</ul>
<h2 id="ï¸-æ—¥å¸¸çˆ±å¥½">â›¹ï¸ æ—¥å¸¸çˆ±å¥½</h2>
<p>å¹³æ—¶å–œæ¬¢ï¼š</p>
<ul>
<li>å†™ç‚¹<strong>æœ‰è¶£çš„ä»£ç </strong></li>
<li>ç©ç©<strong>ä¼‘é—²çš„æ¸¸æˆ</strong></li>
</ul>
<h2 id="è”ç³»æ–¹å¼">ğŸ“® è”ç³»æ–¹å¼</h2>
<p>æƒ³æ‰¾æˆ‘èŠèŠï¼Ÿå¯ä»¥é€šè¿‡é‚®ç®±è”ç³»ï¼š<br>
é‚®ç®±ï¼š<code>496173602@qq.com</code></p>

                        </div>
                           
                        <div id="gitalk-container" data-aos="fade-in"></div>
                          
                    </div>
                </div>
            </div>
        </div>

        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">
    AOS.init();

    var app = new Vue({
        el: "#app",
        data: {
            menuVisible: false,
        },
    });
</script>


<!-- Algolia Search -->
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/instantsearch.css@8/themes/satellite-min.css"
/>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-theme-classic@1.11.0/dist/theme.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.10.5/dist/algoliasearch-lite.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.78.2"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js@1.19.1/dist/umd/index.production.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-query-suggestions@1.19.1/dist/umd/index.production.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-recent-searches@1.19.1/dist/umd/index.production.min.js"></script>

<!-- Algolia Search Button and Container -->
<div id="search-container">
    <!-- æœç´¢æŒ‰é’® -->
    <div class="search-btn-wrapper">
        <button id="search-toggle-btn" title="æœç´¢">
            <i class="fas fa-search"></i>
        </button>
    </div>
</div>

<!-- æœç´¢é¢æ¿ (ç‹¬ç«‹äºæŒ‰é’®ï¼Œå±…ä¸­æ˜¾ç¤º) -->
<div id="search-panel" class="hidden">
    <div class="search-panel-content">
        <div class="search-panel-header">
            <h3>æœç´¢</h3>
            <button id="close-search-btn"><i class="fas fa-times"></i></button>
        </div>
        <div id="searchbox"></div>
        <div id="hits"></div>
        <div id="pagination"></div>
    </div>
    <div class="search-panel-overlay"></div>
</div>

<script>
    // Algolia Search Implementation
    (function () {
        const searchClient = algoliasearch(
            "1VXCOCG7P2",
            "35a939430a6999044879d9abf650cae7"
        );
        const search = instantsearch({
            indexName: "whitsats_github_io_1vxcocg7p2_pages",
            searchClient,
            future: { preserveSharedStateOnUnmount: true },
        });

        // Connect virtual search box
        const virtualSearchBox = instantsearch.connectors.connectSearchBox(
            () => {}
        );

        search.addWidgets([
            virtualSearchBox({}),
            instantsearch.widgets.hits({
                container: "#hits",
                templates: {
                    item: (hit, { html, components }) => html`
                        <article>
                            <a href="${hit.url}">
                                <h3>
                                    ${components.Highlight({
                                        hit: hit,
                                        attribute: "title",
                                    })}
                                </h3>
                                <p>
                                    ${components.Highlight({
                                        hit: hit,
                                        attribute: "description",
                                    })}
                                </p>
                            </a>
                        </article>
                    `,
                },
            }),
            instantsearch.widgets.configure({ hitsPerPage: 8 }),
            instantsearch.widgets.pagination({ container: "#pagination" }),
        ]);

        search.start();

        // Autocomplete implementation
        const recentSearchesPlugin = window[
            "@algolia/autocomplete-plugin-recent-searches"
        ].createLocalStorageRecentSearchesPlugin({
            key: "instantsearch",
            limit: 3,
            transformSource: ({ source }) => ({
                ...source,
                onSelect({ setIsOpen, setQuery, item, event }) {
                    onSelect({ setQuery, setIsOpen, event, query: item.label });
                },
            }),
        });

        const querySuggestionsPlugin = window[
            "@algolia/autocomplete-plugin-query-suggestions"
        ].createQuerySuggestionsPlugin({
            searchClient,
            indexName: "instant_search_demo_query_suggestions",
            getSearchParams: () =>
                recentSearchesPlugin.data.getAlgoliaSearchParams({
                    hitsPerPage: 6,
                }),
            transformSource: ({ source }) => ({
                ...source,
                sourceId: "querySuggestionsPlugin",
                onSelect({ setIsOpen, setQuery, event, item }) {
                    onSelect({ setQuery, setIsOpen, event, query: item.query });
                },
                getItems: (params) =>
                    params.state.query ? source.getItems(params) : [],
            }),
        });

        function setInstantSearchUiState(uiState) {
            search.mainIndex.setIndexUiState({ page: 1, ...uiState });
        }

        function onSelect({ setIsOpen, setQuery, event, query }) {
            if (isModifierEvent(event)) {
                return;
            }

            setQuery(query);
            setIsOpen(false);
            setInstantSearchUiState({ query });
        }

        function isModifierEvent(event) {
            return (
                event.button === 1 ||
                event.altKey ||
                event.ctrlKey ||
                event.metaKey ||
                event.shiftKey
            );
        }

        window["@algolia/autocomplete-js"].autocomplete({
            container: "#searchbox",
            openOnFocus: true,
            detachedMediaQuery: "none",
            onSubmit({ state }) {
                setInstantSearchUiState({ query: state.query });
            },
            plugins: [recentSearchesPlugin, querySuggestionsPlugin],
        });

        // æœç´¢é¢æ¿äº¤äº’
        document
            .getElementById("search-toggle-btn")
            .addEventListener("click", function (e) {
                // é˜²æ­¢æ‹–åŠ¨æ—¶è§¦å‘ç‚¹å‡»äº‹ä»¶
                if (e.target.classList.contains("dragging")) {
                    return;
                }
                document
                    .getElementById("search-panel")
                    .classList.remove("hidden");
                // èšç„¦æœç´¢æ¡†
                setTimeout(() => {
                    const searchInput = document.querySelector(".aa-Input");
                    if (searchInput) {
                        searchInput.focus();
                    }
                }, 100);
            });

        // æœç´¢æŒ‰é’®æ‹–åŠ¨åŠŸèƒ½
        let isDragging = false;
        let dragStartX = 0;
        let dragStartY = 0;
        let elementStartX = 0;
        let elementStartY = 0;
        let animationId = null;

        const searchContainer = document.getElementById("search-container");
        const searchBtn = document.getElementById("search-toggle-btn");

        // ç¦ç”¨æ‹–åŠ¨æ—¶çš„transitionï¼Œæé«˜æ€§èƒ½
        function disableTransition() {
            searchContainer.style.transition = "none";
        }

        function enableTransition() {
            searchContainer.style.transition = "all 0.2s ease";
        }

        // é¼ æ ‡æ‹–åŠ¨
        searchBtn.addEventListener("mousedown", function (e) {
            isDragging = false;
            dragStartX = e.clientX;
            dragStartY = e.clientY;

            const rect = searchContainer.getBoundingClientRect();
            elementStartX = rect.left;
            elementStartY = rect.top;

            searchBtn.classList.add("grabbing");
            disableTransition();

            document.addEventListener("mousemove", handleMouseMove, {
                passive: false,
            });
            document.addEventListener("mouseup", handleMouseUp, {
                passive: true,
            });
            e.preventDefault();
        });

        // è§¦æ‘¸æ‹–åŠ¨
        searchBtn.addEventListener("touchstart", function (e) {
            isDragging = false;
            const touch = e.touches[0];
            dragStartX = touch.clientX;
            dragStartY = touch.clientY;

            const rect = searchContainer.getBoundingClientRect();
            elementStartX = rect.left;
            elementStartY = rect.top;

            searchBtn.classList.add("grabbing");
            disableTransition();

            document.addEventListener("touchmove", handleTouchMove, {
                passive: false,
            });
            document.addEventListener("touchend", handleTouchEnd, {
                passive: true,
            });
            e.preventDefault();
        });

        function handleMouseMove(e) {
            const deltaX = e.clientX - dragStartX;
            const deltaY = e.clientY - dragStartY;

            if (Math.abs(deltaX) > 3 || Math.abs(deltaY) > 3) {
                if (!isDragging) {
                    isDragging = true;
                    searchBtn.classList.add("dragging");
                }
            }

            if (isDragging) {
                // ä½¿ç”¨requestAnimationFrameç¡®ä¿æµç•…çš„æ‹–åŠ¨
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                animationId = requestAnimationFrame(() => {
                    updatePosition(
                        elementStartX + deltaX,
                        elementStartY + deltaY
                    );
                });
                e.preventDefault();
            }
        }

        function handleTouchMove(e) {
            const touch = e.touches[0];
            const deltaX = touch.clientX - dragStartX;
            const deltaY = touch.clientY - dragStartY;

            if (Math.abs(deltaX) > 3 || Math.abs(deltaY) > 3) {
                if (!isDragging) {
                    isDragging = true;
                    searchBtn.classList.add("dragging");
                }
            }

            if (isDragging) {
                // ä½¿ç”¨requestAnimationFrameç¡®ä¿æµç•…çš„æ‹–åŠ¨
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                animationId = requestAnimationFrame(() => {
                    updatePosition(
                        elementStartX + deltaX,
                        elementStartY + deltaY
                    );
                });
                e.preventDefault();
            }
        }

        function handleMouseUp() {
            document.removeEventListener("mousemove", handleMouseMove);
            document.removeEventListener("mouseup", handleMouseUp);
            finishDrag();
        }

        function handleTouchEnd() {
            document.removeEventListener("touchmove", handleTouchMove);
            document.removeEventListener("touchend", handleTouchEnd);
            finishDrag();
        }

        function finishDrag() {
            if (animationId) {
                cancelAnimationFrame(animationId);
                animationId = null;
            }

            searchBtn.classList.remove("grabbing");
            enableTransition();

            // å»¶è¿Ÿç§»é™¤draggingç±»ï¼Œé˜²æ­¢ç«‹å³è§¦å‘ç‚¹å‡»äº‹ä»¶
            setTimeout(() => {
                searchBtn.classList.remove("dragging");
            }, 100);
        }

        function updatePosition(x, y) {
            // è·å–è§†çª—å°ºå¯¸
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const containerSize = 46; // æŒ‰é’®å®¹å™¨çš„å®é™…å¤§å°

            // é™åˆ¶æ‹–åŠ¨èŒƒå›´ï¼Œä¿æŒæŒ‰é’®å®Œå…¨åœ¨è§†çª—å†…
            x = Math.max(0, Math.min(x, viewportWidth - containerSize));
            y = Math.max(0, Math.min(y, viewportHeight - containerSize));

            // ä½¿ç”¨transformè€Œä¸æ˜¯left/topï¼Œæé«˜æ€§èƒ½
            searchContainer.style.transform = `translate(${x}px, ${y}px)`;
            searchContainer.style.left = "0";
            searchContainer.style.top = "0";
            searchContainer.style.right = "auto";
            searchContainer.style.bottom = "auto";

            // èŠ‚æµä¿å­˜ä½ç½®ï¼Œé¿å…é¢‘ç¹å†™å…¥localStorage
            clearTimeout(updatePosition.saveTimer);
            updatePosition.saveTimer = setTimeout(() => {
                localStorage.setItem(
                    "searchButtonPosition",
                    JSON.stringify({ x, y })
                );
            }, 500);
        }

        // æ¢å¤ä¿å­˜çš„ä½ç½®
        function restorePosition() {
            const savedPosition = localStorage.getItem("searchButtonPosition");
            if (savedPosition) {
                try {
                    const { x, y } = JSON.parse(savedPosition);
                    // ä½¿ç”¨transformæ¢å¤ä½ç½®
                    searchContainer.style.transform = `translate(${x}px, ${y}px)`;
                    searchContainer.style.left = "0";
                    searchContainer.style.top = "0";
                    searchContainer.style.right = "auto";
                    searchContainer.style.bottom = "auto";
                } catch (e) {
                    console.log("Failed to restore search button position");
                }
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤ä½ç½®
        window.addEventListener("load", restorePosition);

        document
            .getElementById("close-search-btn")
            .addEventListener("click", function () {
                document.getElementById("search-panel").classList.add("hidden");
            });

        // ç‚¹å‡»é®ç½©å±‚å…³é—­æœç´¢é¢æ¿
        document.addEventListener("DOMContentLoaded", function () {
            const overlay = document.querySelector(".search-panel-overlay");
            if (overlay) {
                overlay.addEventListener("click", function () {
                    document
                        .getElementById("search-panel")
                        .classList.add("hidden");
                });
            }

            // ç¡®ä¿æœç´¢å®¹å™¨å§‹ç»ˆå¯è§
            const searchContainer = document.getElementById("search-container");
            if (searchContainer) {
                // å°†æœç´¢å®¹å™¨æ·»åŠ åˆ°bodyæœ«å°¾ï¼Œç¡®ä¿å®ƒä¸ä¼šè¢«å…¶ä»–å…ƒç´ å½±å“
                document.body.appendChild(searchContainer);
            }

            // å°†æœç´¢é¢æ¿æ·»åŠ åˆ°bodyæœ«å°¾
            const searchPanel = document.getElementById("search-panel");
            if (searchPanel) {
                document.body.appendChild(searchPanel);
            }
        });

        // å¤„ç†æœç´¢å®Œæˆåçš„çŠ¶æ€
        search.on("render", function () {
            // ç¡®ä¿æœç´¢æŒ‰é’®å§‹ç»ˆå¯è§
            const searchBtn = document.getElementById("search-toggle-btn");
            if (searchBtn) {
                searchBtn.style.display = "flex";
            }
        });

        // æ·»åŠ é”®ç›˜å¿«æ·é”® - æŒ‰ESCå…³é—­æœç´¢é¢æ¿
        document.addEventListener("keydown", function (e) {
            if (e.key === "Escape") {
                document.getElementById("search-panel").classList.add("hidden");
            }

            // æŒ‰Ctrl+Kæˆ–Command+Kæ‰“å¼€æœç´¢é¢æ¿
            if ((e.ctrlKey || e.metaKey) && e.key === "k") {
                e.preventDefault();
                document
                    .getElementById("search-panel")
                    .classList.remove("hidden");
                setTimeout(() => {
                    const searchInput = document.querySelector(".aa-Input");
                    if (searchInput) {
                        searchInput.focus();
                    }
                }, 100);
            }
        });

        // é˜²æ­¢æœç´¢æŒ‰é’®è¢«éšè—
        window.addEventListener("load", function () {
            const searchBtn = document.getElementById("search-toggle-btn");
            if (searchBtn) {
                searchBtn.style.display = "flex";
            }
        });
    })();
</script>

<style>
    /* æœç´¢å®¹å™¨æ ·å¼ */
    #search-container {
        position: fixed;
        right: 20px;
        top: 20px;
        z-index: 99999;
        transition: all 0.2s ease;
        cursor: move;
        cursor: grab;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        will-change: transform;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
    }

    #search-container:active {
        cursor: grabbing;
    }

    /* æœç´¢æŒ‰é’®åŒ…è£…å™¨ */
    .search-btn-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* æœç´¢æŒ‰é’®æ ·å¼ */
    #search-toggle-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4a6cf7 0%, #8a63ff 100%);
        color: white;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        transition: all 0.3s ease;
        touch-action: none;
        -webkit-user-drag: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
    }

    #search-toggle-btn:hover:not(.dragging) {
        transform: scale(1.05);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        background: linear-gradient(135deg, #3a5ce6 0%, #7a53ef 100%);
    }

    #search-toggle-btn.grabbing {
        cursor: grabbing;
        transform: scale(1.1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    #search-toggle-btn.dragging {
        pointer-events: none;
        transform: scale(1.1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    /* æœç´¢é¢æ¿æ ·å¼ - å±…ä¸­å¼¹å±‚ */
    #search-panel {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        transition: all 0.3s ease;
    }

    #search-panel.hidden {
        display: none;
        opacity: 0;
    }

    /* æœç´¢é¢æ¿å†…å®¹ */
    .search-panel-content {
        width: 90%;
        max-width: 600px;
        background: white;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        padding: 24px;
        position: relative;
        z-index: 100001;
        animation: fadeInUp 0.3s ease;
    }

    /* æœç´¢é¢æ¿èƒŒæ™¯é®ç½© */
    .search-panel-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        z-index: 100000;
    }

    .search-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid #eee;
    }

    .search-panel-header h3 {
        margin: 0;
        font-size: 20px;
        color: #333;
        font-weight: 600;
    }

    #close-search-btn {
        background: none;
        border: none;
        color: #999;
        cursor: pointer;
        font-size: 18px;
        padding: 6px;
        transition: all 0.2s ease;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
    }

    #close-search-btn:hover {
        color: #333;
        background-color: #f5f5f5;
    }

    /* æœç´¢æ¡†æ ·å¼ä¼˜åŒ– */
    #searchbox {
        margin-bottom: 16px;
    }

    #searchbox .aa-Form {
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border: 1px solid #eaeaea;
    }

    #hits {
        margin-top: 20px;
        max-height: 400px;
        overflow-y: auto;
    }

    #hits article {
        padding: 16px;
        border-radius: 10px;
        margin-bottom: 12px;
        transition: all 0.2s ease;
        border: 1px solid #eee;
    }

    #hits article:hover {
        background: #f9f9f9;
        border-color: #ddd;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }

    #hits article a {
        text-decoration: none;
        color: inherit;
        display: block;
    }

    #hits article h3 {
        margin: 0 0 10px 0;
        font-size: 17px;
        color: #4a6cf7;
        font-weight: 600;
    }

    #hits article p {
        margin: 0;
        font-size: 14px;
        color: #666;
        line-height: 1.5;
    }

    #pagination {
        margin-top: 20px;
        display: flex;
        justify-content: center;
    }

    /* åŠ¨ç”»æ•ˆæœ */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .search-panel-content {
            width: 90%;
            padding: 20px;
        }
    }

    @media (max-width: 480px) {
        .search-panel-content {
            width: 95%;
            padding: 16px;
        }

        #search-toggle-btn {
            width: 38px;
            height: 38px;
            font-size: 14px;
        }
    }
</style>
 
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
  
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        clientID: "d19b57a9d148457156f3",
        clientSecret: "86b7b765df5d01718ce8cec5c7ada56842e42e67",
        repo: "issue",
        owner: "whitsats",
        admin: ["whitsats"],
        id: location.pathname.substring(0, 49), // Ensure uniqueness and length less than 50
        distractionFreeMode: false, // Facebook-like distraction free mode
    });

    gitalk.render("gitalk-container");
</script>
   

<div id="music-player">
    <div class="mini-player">
        <!-- æ·»åŠ SVGè¾¹æ¡† -->
        <svg
            class="progress-border"
            width="100%"
            height="100%"
            viewBox="0 0 104 44"
            preserveAspectRatio="xMidYMid meet"
        >
            <rect
                class="progress-path"
                x="2"
                y="2"
                width="100"
                height="40"
                rx="20"
                ry="20"
                fill="none"
                stroke="#4a6cf7"
                stroke-width="2"
                stroke-dasharray="0"
                stroke-dashoffset="0"
                pathLength="100"
            />
        </svg>
        <div class="wave-animation"></div>
        <button class="play-btn"><i class="fas fa-play"></i></button>
    </div>

    <div class="full-player hidden">
        <div class="player-header">
            <div class="now-playing">æ­£åœ¨æ’­æ”¾ï¼šæœªé€‰æ‹©æ­Œæ›²</div>
            <button class="shrink-btn"><i class="fas fa-times"></i></button>
        </div>

        <div class="player-controls">
            <div class="progress-container">
                <span class="current-time">0:00</span>
                <input
                    type="range"
                    class="progress-bar"
                    min="0"
                    max="100"
                    value="0"
                />
                <span class="duration">0:00</span>
            </div>

            <div class="control-buttons">
                <button class="mode-btn" title="æ’­æ”¾æ¨¡å¼">
                    <i class="fas fa-random"></i>
                </button>
                <button class="prev-btn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="play-btn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="next-btn">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="playlist-btn">
                    <i class="fas fa-list"></i>
                </button>
            </div>

            <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input
                    type="range"
                    class="volume-bar"
                    min="0"
                    max="100"
                    value="80"
                />
            </div>
        </div>
    </div>

    <div class="playlist hidden">
        <div class="playlist-header">
            <h3>æ’­æ”¾åˆ—è¡¨</h3>
            <button class="close-playlist"><i class="fas fa-times"></i></button>
        </div>
        <ul class="song-list"></ul>
    </div>
</div>

<script>
    const musicPlayer = {
        audio: new Audio(),
        songs: [],
        currentSongIndex: 0,
        isPlaying: false,
        playMode: "list", // list, random
        currentLoadedSong: null, // æ·»åŠ ä¸€ä¸ªå˜é‡æ¥è·Ÿè¸ªå½“å‰åŠ è½½çš„æ­Œæ›²

        init() {
            this.loadSongs();
            this.setupEventListeners();
            this.createWaveAnimation();
            this.updateNowPlaying();
        },

        loadSongs() {
            fetch(
                `/images//audios/list.json`
            )
                .then((response) => response.json())
                .then((data) => {
                    this.songs = data;
                    this.renderPlaylist();
                })
                .catch((error) => console.error("éŸ³ä¹åˆ—è¡¨åŠ è½½å¤±è´¥:", error));
        },

        setupEventListeners() {
            // æ’­æ”¾/æš‚åœæŒ‰é’®
            document.querySelectorAll(".play-btn").forEach((btn) => {
                btn.addEventListener("click", () => this.togglePlay());
            });

            // ä¸Šä¸€æ›²/ä¸‹ä¸€æ›²
            document
                .querySelector(".prev-btn")
                .addEventListener("click", () => this.prevSong());
            document
                .querySelector(".next-btn")
                .addEventListener("click", () => this.nextSong());

            // è¿›åº¦æ¡
            document
                .querySelector(".progress-bar")
                .addEventListener("input", (e) => {
                    this.seek(e.target.value);
                });

            // éŸ³é‡æ§åˆ¶
            document
                .querySelector(".volume-bar")
                .addEventListener("input", (e) => {
                    this.audio.volume = e.target.value / 100;
                });

            // æ’­æ”¾æ¨¡å¼
            document
                .querySelector(".mode-btn")
                .addEventListener("click", () => {
                    this.togglePlayMode();
                });

            // éŸ³æµªåŒºåŸŸç‚¹å‡»åˆ‡æ¢æ’­æ”¾å™¨å¤§å°
            document
                .querySelector(".wave-animation")
                .addEventListener("click", () => this.togglePlayerSize());
            document
                .querySelector(".shrink-btn")
                .addEventListener("click", () => this.togglePlayerSize());

            // æ’­æ”¾åˆ—è¡¨
            document
                .querySelector(".playlist-btn")
                .addEventListener("click", () => this.togglePlaylist());
            document
                .querySelector(".close-playlist")
                .addEventListener("click", () => this.togglePlaylist());

            // éŸ³é¢‘äº‹ä»¶
            this.audio.addEventListener("timeupdate", () =>
                this.updateProgress()
            );
            this.audio.addEventListener("ended", () => this.handleSongEnd());
        },

        createWaveAnimation() {
            // åˆ›å»ºéŸ³æµªåŠ¨ç”»æ•ˆæœ
            const waveContainer = document.querySelector(".wave-animation");
            for (let i = 0; i < 5; i++) {
                const bar = document.createElement("div");
                bar.className = "wave-bar";
                waveContainer.appendChild(bar);
            }

            this.updateWaveAnimation();
        },

        updateWaveAnimation() {
            const bars = document.querySelectorAll(".wave-bar");
            bars.forEach((bar) => {
                const height = Math.random() * 10 + 2;
                bar.style.height = `${height}px`;
                bar.style.animationDuration = `${Math.random() * 0.8 + 0.5}s`;
            });

            if (this.isPlaying) {
                requestAnimationFrame(() => this.updateWaveAnimation());
            }
        },

        renderPlaylist() {
            const songList = document.querySelector(".song-list");
            songList.innerHTML = "";

            this.songs.forEach((song, index) => {
                const li = document.createElement("li");
                li.textContent = song.name;
                if (index === this.currentSongIndex && this.isPlaying) {
                    li.classList.add("active");
                }
                li.addEventListener("click", () => {
                    this.playSong(index);
                    document
                        .querySelector(".full-player")
                        .classList.remove("hidden");
                    document
                        .querySelector(".mini-player")
                        .classList.add("hidden");
                });
                songList.appendChild(li);
            });
        },

        togglePlay() {
            if (this.isPlaying) {
                this.pause();
            } else {
                this.play();
            }
        },

        play() {
            if (this.songs.length === 0) return;

            // åªæœ‰åœ¨é¦–æ¬¡æ’­æ”¾æˆ–åˆ‡æ¢æ­Œæ›²æ—¶æ‰è®¾ç½®éŸ³é¢‘æº
            if (
                this.currentLoadedSong !== this.songs[this.currentSongIndex].src
            ) {
                this.audio.src = `/images/audios/${
                    this.songs[this.currentSongIndex].src
                }`;
                this.currentLoadedSong = this.songs[this.currentSongIndex].src;
            }

            this.audio.play();
            this.isPlaying = true;
            document.querySelectorAll(".play-btn i").forEach((icon) => {
                icon.className = "fas fa-pause";
            });
            this.updateWaveAnimation();
            this.updateNowPlaying();
            this.renderPlaylist();
        },

        pause() {
            this.audio.pause();
            this.isPlaying = false;
            document.querySelectorAll(".play-btn i").forEach((icon) => {
                icon.className = "fas fa-play";
            });
            this.renderPlaylist();
        },

        prevSong() {
            this.currentSongIndex =
                (this.currentSongIndex - 1 + this.songs.length) %
                this.songs.length;
            // ç¡®ä¿åˆ‡æ¢æ­Œæ›²æ—¶é‡æ–°åŠ è½½éŸ³é¢‘
            this.currentLoadedSong = null;
            this.play();
        },

        nextSong() {
            if (this.playMode === "random") {
                this.currentSongIndex = Math.floor(
                    Math.random() * this.songs.length
                );
            } else {
                this.currentSongIndex =
                    (this.currentSongIndex + 1) % this.songs.length;
            }
            // ç¡®ä¿åˆ‡æ¢æ­Œæ›²æ—¶é‡æ–°åŠ è½½éŸ³é¢‘
            this.currentLoadedSong = null;
            this.play();
        },

        playSong(index) {
            this.currentSongIndex = index;
            // ç¡®ä¿åˆ‡æ¢æ­Œæ›²æ—¶é‡æ–°åŠ è½½éŸ³é¢‘
            this.currentLoadedSong = null;
            this.play();
        },

        seek(percent) {
            const seekTime = (percent / 100) * this.audio.duration;
            this.audio.currentTime = seekTime;
        },

        updateProgress() {
            // ç¡®ä¿audio.durationä¸ä¸ºNaN
            if (isNaN(this.audio.duration)) return;

            const progress =
                (this.audio.currentTime / this.audio.duration) * 100;
            document.querySelector(".progress-bar").value = progress || 0;

            // æ›´æ–°æ—¶é—´æ˜¾ç¤º
            document.querySelector(".current-time").textContent =
                this.formatTime(this.audio.currentTime);
            document.querySelector(".duration").textContent = this.formatTime(
                this.audio.duration
            );

            // æ›´æ–°è¿·ä½ æ’­æ”¾å™¨SVGè¾¹æ¡†é«˜äº®è¿›åº¦
            const progressPath = document.querySelector(".progress-path");
            const progressBorder = document.querySelector(".progress-border");
            if (progressPath) {
                // ä½¿ç”¨SVGçš„pathLengthå±æ€§æ¥è®¾ç½®è¿›åº¦
                // è®¾ç½®stroke-dasharrayå’Œstroke-dashoffsetæ¥æ˜¾ç¤ºè¿›åº¦
                const pathLength = 100; // SVGå…ƒç´ ä¸Šè®¾ç½®çš„pathLengthå€¼
                const dashArray = `${progress} ${pathLength - progress}`;

                // è®¾ç½®è·¯å¾„çš„dasharrayä»¥æ˜¾ç¤ºè¿›åº¦
                progressPath.style.strokeDasharray = dashArray;

                // å¦‚æœæ’­æ”¾å®Œæ¯•ï¼Œæ•´ä¸ªè¾¹æ¡†é«˜äº®
                if (progress >= 99.5) {
                    progressPath.style.stroke = "#4a6cf7";
                    progressPath.style.strokeWidth = "2.5";
                    progressPath.style.strokeDasharray = "100 0"; // å®Œå…¨å¡«å……
                    document.querySelector(".mini-player").style.borderColor =
                        "transparent";
                    // å¢å¼ºé˜´å½±æ•ˆæœ
                    if (progressBorder) {
                        progressBorder.style.filter =
                            "drop-shadow(0 2px 6px rgba(74, 108, 247, 0.4))";
                    }
                } else {
                    // æ­£å¸¸æ’­æ”¾çŠ¶æ€
                    progressPath.style.stroke = "#4a6cf7";
                    document.querySelector(".mini-player").style.borderColor =
                        "rgba(0, 0, 0, 0.05)";
                    // æ¢å¤é»˜è®¤é˜´å½±
                    if (progressBorder) {
                        progressBorder.style.filter =
                            "drop-shadow(0 2px 4px rgba(74, 108, 247, 0.2))";
                    }
                }
            }
        },

        formatTime(seconds) {
            // æ£€æŸ¥secondsæ˜¯å¦ä¸ºNaNæˆ–undefined
            if (isNaN(seconds) || seconds === undefined) {
                return "0:00";
            }
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? "0" : ""}${secs}`;
        },

        handleSongEnd() {
            this.nextSong();
        },

        updateNowPlaying() {
            const nowPlayingText = this.songs[this.currentSongIndex]
                ? `æ­£åœ¨æ’­æ”¾ï¼š${this.songs[this.currentSongIndex].name}`
                : "æ­£åœ¨æ’­æ”¾ï¼šæœªé€‰æ‹©æ­Œæ›²";
            document.querySelector(".now-playing").textContent = nowPlayingText;
        },

        togglePlayMode() {
            this.playMode = this.playMode === "list" ? "random" : "list";
            const icon = document.querySelector(".mode-btn i");
            icon.className =
                this.playMode === "list" ? "fas fa-random" : "fas fa-list";
        },

        togglePlayerSize() {
            document.querySelector(".mini-player").classList.toggle("hidden");
            document.querySelector(".full-player").classList.toggle("hidden");
        },

        togglePlaylist() {
            document.querySelector(".playlist").classList.toggle("hidden");
        },
    };

    // åˆå§‹åŒ–éŸ³ä¹æ’­æ”¾å™¨
    musicPlayer.init();
</script>

<style>
    #music-player {
        position: fixed;
        right: 15px;
        bottom: 15px;
        z-index: 99999;
        transition: all 0.2s ease;
    }

    .mini-player {
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 12px;
        border-radius: 24px;
        color: #333;
        border: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.2s ease;
        position: relative;
        overflow: visible;

        &:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .play-btn i {
            color: #555;
            transition: all 0.15s ease;
        }

        /* ç¡®ä¿å­å…ƒç´ å¯ä»¥æ¥æ”¶ç‚¹å‡»äº‹ä»¶ */
        .wave-animation,
        .play-btn {
            position: relative;
            z-index: 1;
            pointer-events: auto;
        }

        /* SVGè¿›åº¦è¾¹æ¡†æ ·å¼ */
        .progress-border {
            overflow: visible;
            position: absolute;
            top: -2px;
            left: -2px;
            width: calc(100% + 4px);
            height: calc(100% + 4px);
            filter: drop-shadow(0 2px 4px rgba(74, 108, 247, 0.2));
            pointer-events: none; /* ä½¿SVGä¸æ‹¦æˆªé¼ æ ‡äº‹ä»¶ */
        }

        .progress-path {
            transition: stroke-dasharray 0.1s linear;
            stroke-linecap: round;
        }
    }

    .wave-animation {
        display: flex;
        align-items: flex-end;
        height: 20px;
        margin-right: 8px;
    }

    .wave-bar {
        width: 3px;
        margin: 0 1px;
        background: linear-gradient(to top, #4a6cf7, #8a63ff);
        border-radius: 1.5px;
        animation: wave 0.5s infinite alternate;
    }

    @keyframes wave {
        from {
            height: 3px;
            opacity: 0.5;
        }
        to {
            height: 15px;
            opacity: 1;
        }
    }

    .play-btn,
    .expand-btn {
        background: none;
        border: none;
        color: #555;
        cursor: pointer;
        font-size: 16px;
        margin-left: 10px;
        transition: all 0.15s ease;

        &:hover {
            color: #4a6cf7;
            transform: scale(1.05);
        }
    }

    .full-player {
        background: linear-gradient(
            135deg,
            rgba(74, 108, 247, 0.95) 0%,
            rgba(138, 99, 255, 0.95) 100%
        );
        border-radius: 16px;
        padding: 16px;
        color: white;
        width: 360px;
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 12px 32px rgba(74, 108, 247, 0.25);
        transition: all 0.3s ease;
    }

    .player-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
    }

    .player-header .now-playing {
        font-size: 14px;
        opacity: 0.9;
    }

    .player-header .shrink-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.6);
        cursor: pointer;
        font-size: 14px;
        padding: 4px;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }

    .player-header .shrink-btn:hover {
        color: white;
    }

    .player-controls {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .control-buttons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 24px;
    }

    .control-buttons button {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 8px;
        border-radius: 50%;
    }

    .control-buttons button:hover {
        color: white;
    }

    .control-buttons .play-btn {
        font-size: 32px;
    }

    .control-buttons .prev-btn,
    .control-buttons .next-btn {
        font-size: 20px;
        opacity: 0.8;
    }

    .progress-container {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 0 4px;
    }

    .progress-container span {
        font-size: 12px;
        opacity: 0.7;
        min-width: 40px;
    }

    .progress-bar {
        flex-grow: 1;
        height: 4px;
        appearance: none;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        transition: all 0.2s ease;
    }

    .progress-bar::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .volume-control {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 0 4px;
    }

    .volume-control i {
        font-size: 16px;
        opacity: 0.8;
        cursor: pointer;
    }

    .volume-bar {
        width: 80px;
        height: 4px;
        appearance: none;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
    }

    .volume-bar::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
    }

    .playlist {
        position: absolute;
        bottom: 70px;
        right: 0;
        background: linear-gradient(
            135deg,
            rgba(74, 108, 247, 0.95) 0%,
            rgba(138, 99, 255, 0.95) 100%
        );
        width: 360px;
        max-height: 480px;
        overflow-y: auto;
        border-radius: 16px;
        padding: 20px;
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 12px 32px rgba(74, 108, 247, 0.25);
        transition: all 0.3s ease;
    }

    .playlist::-webkit-scrollbar {
        width: 6px;
    }

    .playlist::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
    }

    .playlist-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .playlist-header h3 {
        font-size: 16px;
        font-weight: 500;
        margin: 0;
    }

    .playlist-header .close-playlist {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.6);
        cursor: pointer;
        font-size: 16px;
        transition: all 0.2s ease;
    }

    .playlist-header .close-playlist:hover {
        color: white;
    }

    .song-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .song-list li {
        padding: 12px 16px;
        cursor: pointer;
        border-radius: 8px;
        transition: all 0.2s ease;
        margin: 4px 0;
        display: flex;
        align-items: center;
        color: rgba(255, 255, 255, 0.8);
    }

    .song-list li:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
    }

    .song-list li.active {
        background: rgba(74, 108, 247, 0.3);
        font-weight: 500;
        color: #ffffff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .hidden {
        display: none;
    }
</style>


    </body>
</html>
